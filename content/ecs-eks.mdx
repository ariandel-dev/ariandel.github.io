

## 비교

운영중인 서비스를 container orchestration 을 적용해 관리하고자 하니
ecs, eks를 비교하게 되었다.

구성 설정은 ecs가 더 간단하다. 
서비스 정의, 서비스 내에서 실행될 컨테이너 들에대한 task 정의하면 끝이다.
다만 ecs는 다른 csp로 이전하고 싶은 경우 쉽게 이전이 어렵다.

ecs는 클러스터 - 서비스 - 컨테이너 구조로 구성되어있다
클러스터는 control plane으로 모든 컨테이너를 관리할 수 있다.


### ecs-ec2 동작 방식
EC2에는 Docker Runtime, Container Runtime 가 있어 컨테이너를 시작할 수 있으며, 
ECS agent가 설치되어 있어 Control Plane인 ECS Cluster가 VM을 관리할 수 있다.


### ecs-fargate 동작 방식
Fargate는 컨테이너를 분석해 얼마만큼의 리소스가 필요한지, 
자동으로 해당 컨테이너를 위해 리소스를 프로비저닝 해, 
프로비저닝 된 리소스 위해 배포 및 실행한다.


### 정리
fargate방식이 더 편리하지만 직접 인프라 접근이 필요한 경우
ec2방식이 더 유연하기는 하다.