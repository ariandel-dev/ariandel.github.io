---
author: ariandel
date: 2025-02-13
description: "간간히 알게된 v8 내용정리"
tags: ["node"]
title: "v8 엔진 문서"
---

[트윗](https://x.com/shuding_/status/1779583281920344448)을 보다가 우연히 tailwind compiler가 rust로 돌아간다는 글을 발견했다.
확인을 위해서 tailwind검색을 해보니 jit컴파일링을 지원하기 시작했다는 포스트를 발견했다.

node가 v8아래서 jit으로 돌아간다는 건 알고 있었는데 
빌드타임에 중간 언어로 바뀌고 실행할때 컴파일되서 just in time 인줄 알았는데 약간 달랐다.

우선 ignition이라는 걸로 중간 코드로 변환하고 실행할때 자주 실행되는 코드(핫스팟)를 탐지해서 부분적으로 네이티브 코드로 변환한다고 한다.
이후 컴파일된 네이티브 코드는 캐싱되어 빠르게 실행된다고 한다.

만약 최적화된 코드가 예상과 다르면 다시 바이트코드로 돌려버린다고 한다.

실행 속도와 컴파일 시간을 적절히 타협한 것 같다.

인터프리팅이 빠른 이유는 코드를 전부 변환하고 실행하는게 아니라 한줄한줄 변환하고 실행하기 때문이다.
전체적인 속도는 느릴 수 있어도 초기 실행이 빠르다.

비유를 하자면 webpack과 esbuild를 적절히 섞은 vite랑 비슷한거같다.

### 여담

[v8 문서](https://v8.dev/docs/turbofan)보면 읽을 거리는 진짜 많아 보이는데 나중에 읽는걸로..




